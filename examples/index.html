<html>
  <head>
    <link rel="stylesheet" type="text/css" href="./_sheet.css">
    <script type="text/javascript" src='../dist/substance-expression.js'></script>
    <script type="text/javascript" src='../dist/example.js'></script>
    <script type="text/javascript">

      function example1() {
        const { evaluate } = window.substanceExpression
        const { scope } = window.EXAMPLE

        const EXPR = 'sum(A1:B10)+(x+1)+2'
        evaluate(EXPR, scope)
          .then((val) => {
            console.log('Value:', val)
          })
      }

      function example2() {
        // TODO: try to create an example using
        // the ExpressionGraph manually,
        // i.e. parse two expressions and store them in a table
        // then register the expression with ExpressionGraph
        // -> look how the topology is computed
        // -> then move towards evaluation
        const { ExampleSheetEngine, ExampleSheetComponent, scope } = window.EXAMPLE

        let data = [[4, 5], ['=A1+B1', '=A2*4']]
        let engine = new ExampleSheetEngine(scope)
        ExampleSheetComponent.mount({ engine }, window.document.body)
        engine.setData(data)
      }

      window.onload = function() {
        example2()
      }
    </script>
  </head>
  <body>
  </body>
</html>